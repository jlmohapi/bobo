{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MT SOLUTIONS\\\\3D Objects\\\\luct-reporting-full\\\\frontend\\\\src\\\\components\\\\ReportsList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReportsList() {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [q, setQ] = useState('');\n  async function load() {\n    const token = localStorage.getItem('token');\n    const res = await fetch('/api/reports?q=' + encodeURIComponent(q), {\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    });\n    if (res.ok) {\n      setReports(await res.json());\n    }\n  }\n  useEffect(() => {\n    load();\n  }, []);\n  function search(e) {\n    e.preventDefault();\n    load();\n  }\n  function exportCSV() {\n    window.open('/api/reports/export?q=' + encodeURIComponent(q));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card p-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: search,\n      className: \"mb-2 d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control me-2\",\n        value: q,\n        onChange: e => setQ(e.target.value),\n        placeholder: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-outline-success mb-2\",\n      onClick: exportCSV,\n      children: \"Download CSV\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }, this), reports.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border p-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: r.course_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 65\n      }, this), \" \", r.topic_taught, \" | Lecturer: \", r.lecturer_name]\n    }, r.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 21\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 3\n  }, this);\n}\n_s(ReportsList, \"KdRT6yWC/CZeGuBCRDFwwozFHJU=\");\n_c = ReportsList;\nvar _c;\n$RefreshReg$(_c, \"ReportsList\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","ReportsList","_s","reports","setReports","q","setQ","load","token","localStorage","getItem","res","fetch","encodeURIComponent","headers","ok","json","search","e","preventDefault","exportCSV","window","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","placeholder","onClick","map","r","course_name","topic_taught","lecturer_name","id","_c","$RefreshReg$"],"sources":["C:/Users/MT SOLUTIONS/3D Objects/luct-reporting-full/frontend/src/components/ReportsList.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\nexport default function ReportsList(){\n const [reports,setReports]=useState([]);\n const [q,setQ]=useState('');\n async function load(){\n  const token=localStorage.getItem('token');\n  const res=await fetch('/api/reports?q='+encodeURIComponent(q),{headers:{'Authorization':'Bearer '+token}});\n  if(res.ok){setReports(await res.json());}\n }\n useEffect(()=>{load();},[]);\n function search(e){e.preventDefault();load();}\n function exportCSV(){window.open('/api/reports/export?q='+encodeURIComponent(q));}\n return(\n  <div className=\"card p-3\">\n    <h5>Reports</h5>\n    <form onSubmit={search} className=\"mb-2 d-flex\">\n      <input className=\"form-control me-2\" value={q} onChange={e=>setQ(e.target.value)} placeholder=\"Search\"/>\n      <button className=\"btn btn-secondary\">Search</button>\n    </form>\n    <button className=\"btn btn-outline-success mb-2\" onClick={exportCSV}>Download CSV</button>\n    {reports.map(r=><div key={r.id} className=\"border p-2 mb-2\"><b>{r.course_name}</b> {r.topic_taught} | Lecturer: {r.lecturer_name}</div>)}\n  </div>\n );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}