{"ast":null,"code":"import _objectSpread from\"C:/Users/limph/OneDrive/Desktop/luct-reporting-full/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Rating(_ref){let{user}=_ref;const[form,setForm]=useState({target_id:'',target_type:'lecturer',rating:5,comment:''});const[message,setMessage]=useState('');async function submit(e){e.preventDefault();const token=localStorage.getItem('token');const res=await fetch('/api/ratings',{method:'POST',headers:{'Content-Type':'application/json','Authorization':'Bearer '+token},body:JSON.stringify(form)});if(res.ok){setMessage('Rating submitted');setForm({target_id:'',target_type:'lecturer',rating:5,comment:''});}else setMessage('Error');}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Submit Rating\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control mb-2\",value:form.target_type,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{target_type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"lecturer\",children:\"Lecturer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"course\",children:\"Course\"}),/*#__PURE__*/_jsx(\"option\",{value:\"class\",children:\"Class\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-2\",placeholder:\"Target ID\",value:form.target_id,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{target_id:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-2\",type:\"number\",min:\"1\",max:\"5\",placeholder:\"Rating (1-5)\",value:form.rating,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{rating:e.target.value}))}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control mb-2\",placeholder:\"Comment\",value:form.comment,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{comment:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Submit Rating\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-success\",children:message})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Rating","_ref","user","form","setForm","target_id","target_type","rating","comment","message","setMessage","submit","e","preventDefault","token","localStorage","getItem","res","fetch","method","headers","body","JSON","stringify","ok","onSubmit","className","children","value","onChange","_objectSpread","target","placeholder","required","type","min","max"],"sources":["C:/Users/limph/OneDrive/Desktop/luct-reporting-full/frontend/src/components/Rating.js"],"sourcesContent":["import React,{useState} from 'react';\r\n\r\nexport default function Rating({user}){\r\n const [form,setForm]=useState({target_id:'',target_type:'lecturer',rating:5,comment:''});\r\n const [message,setMessage]=useState('');\r\n\r\n async function submit(e){\r\n  e.preventDefault();\r\n  const token=localStorage.getItem('token');\r\n  const res=await fetch('/api/ratings',{method:'POST',headers:{'Content-Type':'application/json','Authorization':'Bearer '+token},body:JSON.stringify(form)});\r\n  if(res.ok){\r\n    setMessage('Rating submitted');\r\n    setForm({target_id:'',target_type:'lecturer',rating:5,comment:''});\r\n  }else setMessage('Error');\r\n }\r\n\r\n return(\r\n  <form onSubmit={submit} className=\"card p-3\">\r\n    <h5>Submit Rating</h5>\r\n    <select className=\"form-control mb-2\" value={form.target_type} onChange={e=>setForm({...form,target_type:e.target.value})}>\r\n      <option value=\"lecturer\">Lecturer</option>\r\n      <option value=\"course\">Course</option>\r\n      <option value=\"class\">Class</option>\r\n    </select>\r\n    <input className=\"form-control mb-2\" placeholder=\"Target ID\" value={form.target_id} onChange={e=>setForm({...form,target_id:e.target.value})} required/>\r\n    <input className=\"form-control mb-2\" type=\"number\" min=\"1\" max=\"5\" placeholder=\"Rating (1-5)\" value={form.rating} onChange={e=>setForm({...form,rating:e.target.value})}/>\r\n    <textarea className=\"form-control mb-2\" placeholder=\"Comment\" value={form.comment} onChange={e=>setForm({...form,comment:e.target.value})}/>\r\n    <button className=\"btn btn-primary\">Submit Rating</button>\r\n    <div className=\"text-success\">{message}</div>\r\n  </form>\r\n );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}